<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Introduction to Ant</title><!-- metadata -->





    
    
    <meta name="generator" content="S5">
    <meta name="version" content="S5 1.1">
    <meta name="presdate" content="20050711">
    <meta name="author" content="Joe Schmetzer">
    <meta name="company" content="Exubero Solutions Ltd"><!-- configuration parameters -->
    
    <meta name="defaultView" content="slideshow">
    <meta name="controlVis" content="visible"><!-- style sheet links -->
    
    <link rel="stylesheet" href="0129%20Introduction%20to%20Ant_files/slides.css" type="text/css" media="screen" id="slideProj">
    <link rel="stylesheet" href="0129%20Introduction%20to%20Ant_files/outline.css" type="text/css" media="screen" id="outlineStyle">
    <link rel="stylesheet" href="0129%20Introduction%20to%20Ant_files/print.css" type="text/css" media="print" id="slidePrint">
    <link rel="stylesheet" href="0129%20Introduction%20to%20Ant_files/opera.css" type="text/css" media="projection" id="operaFix"><!-- S5 JS -->
    
    <script src="0129%20Introduction%20to%20Ant_files/slides.js" type="text/javascript"></script><!-- embedded styles -->
    
    <style type="text/css">
        .slide pre {
        border: 1px dashed black;
        background-color: #eee;
        padding: 0.5em;
        }
        .slide li.current {
        font-weight: bold;
        }
        .slide dt {
        font-weight: bold;
        margin-top: 0.5em;
        }
        .presentation p.overview {
        float: right;
        width: 15em;
        font-size: 50%;
        border: 1px solid grey;
        padding: 1em;
        }
</style><style id="s5ss" media="screen, projection">body {font-size: 26px !important;}</style><script charset="utf-8" id="injection_graph_func" src="0129%20Introduction%20to%20Ant_files/injection_graph_func.js"></script></head><body style="display: block;">

<div class="layout">
    <div id="controls"><form action="#" id="controlForm" undefined=""><div id="navLinks"><a accesskey="t" id="toggle" href="javascript:toggle();">&#216;</a><a accesskey="z" id="prev" href="javascript:go(-1);">&#171;</a><a accesskey="x" id="next" href="javascript:go(1);">&#187;</a><div id="navList" onmouseover="showHide('s');" onmouseout="showHide('h');"><select class="hideme" id="jumplist" onchange="go('j');"><option value="0">0 : Introduction to Ant</option><option value="1">1 : Agenda</option><option value="2">2 : Agenda - What is Ant?</option><option value="3">3 : Ant Overview</option><option value="4">4 : What Can Ant Do? (Part 1 of 2)</option><option value="5">5 : What Can Ant Do? (Part 2 of 2)</option><option value="6">6 : Yeah, But My IDE Already Does That!</option><option value="7">7 : Build Automation</option><option value="8">8 : Agenda - Ant Terminology and Concepts</option><option value="9">9 : Project</option><option value="10">10 : Target</option><option value="11">11 : Target Example</option><option value="12">12 : Tasks</option><option value="13">13 : Properties</option><option value="14">14 : Setting Properties - Precedence</option><option value="15">15 : Setting Properties - Examples</option><option value="16">16 : Built-in Properties (Part 1 of 3)</option><option value="17">17 : Built-in Properties (Part 2 of 3)</option><option value="18">18 : Built-in Properties (Part 3 of 3)</option><option value="19">19 : Paths</option><option value="20">20 : Agenda - Installing and Executing Ant</option><option value="21">21 : Ant Environments</option><option value="22">22 : Setup Ant</option><option value="23">23 : Ant Project Help</option><option value="24">24 : Ant Command Line</option><option value="25">25 : Agenda - Core Ant Tasks</option><option value="26">26 : File Tasks</option><option value="27">27 : Compile Tasks</option><option value="28">28 : Archive Tasks</option><option value="29">29 : Testing Tasks</option><option value="30">30 : Property Tasks</option><option value="31">31 : Miscellaneous Tasks</option><option value="32">32 : Agenda - A Working Build Script</option><option value="33">33 : Example Scenario</option><option value="34">34 : init target</option><option value="35">35 : compile target</option><option value="36">36 : dist target</option><option value="37">37 : clean target</option><option value="38">38 : Output of the Script</option><option value="39">39 : Agenda - Ant Techniques and Patterns</option><option value="40">40 : Use Simple Targets</option><option value="41">41 : Use Standard Targets</option><option value="42">42 : Use Properties for Configurability</option><option value="43">43 : The End</option><option value="44">44 : Homework</option></select></div></div></form></div>
    <div id="currentSlide"><!-- DO NOT EDIT --></div>
    <div id="header"></div>
    <div id="footer">
        <h1>[location/date of presentation]*</h1>
        <h2>Introduction to Ant</h2>
    </div>
</div>


<div class="presentation">

<div style="visibility: visible;" id="slide0" class="slide">
<h1>Introduction to Ant</h1>
<img src="0129%20Introduction%20to%20Ant_files/ant_logo_large.gif" alt="Ant Logo">
<p class="overview">* Change the marked fields if you are presenting these
slides yourself.</p>
<h3>Joe Schmetzer*</h3>
<h4><a href="http://www.exubero.com/">http://www.exubero.com/</a>*</h4>
<p style="font-size: 50%; text-align: center;">&nbsp;<br>
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" src="0129%20Introduction%20to%20Ant_files/somerights20.png"></a><br>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike2.5 License</a>.<!--/Creative Commons License--><!-- <rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
        <Work rdf:about="">
            <license rdf:resource="http://creativecommons.org/licenses/by-sa/2.5/" />
            <dc:type rdf:resource="http://purl.org/dc/dcmitype/Text" />
        </Work>
        <License rdf:about="http://creativecommons.org/licenses/by-sa/2.5/"><permits rdf:resource="http://web.resource.org/cc/Reproduction"/><permits rdf:resource="http://web.resource.org/cc/Distribution"/><requires rdf:resource="http://web.resource.org/cc/Notice"/><requires rdf:resource="http://web.resource.org/cc/Attribution"/><permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/><requires rdf:resource="http://web.resource.org/cc/ShareAlike"/></License></rdf:RDF> -->
</p>
</div>


<div style="visibility: visible;" id="slide1" class="slide">
<h1>Agenda</h1>
<ul>
    <li>Ant, and why to use it</li>
    <li>Ant terminology and concepts</li>
    <li>Installing and executing Ant</li>
    <li>Core Ant tasks</li>
    <li>A working build script</li>
    <li>Ant techniques and patterns</li>
</ul>
</div>

<div style="visibility: visible;" id="slide2" class="slide">
<h1>Agenda - What is Ant?</h1>
<ul>
    <li class="current">Ant, and why to use it
        <ul>
            <li>Ant overview</li>
            <li>What Can Ant Do?</li>
            <li>Yeah, But My IDE Already Does That!</li>
            <li>Build Automation</li>
        </ul>
    </li>
    <li>Ant terminology and concepts</li>
    <li>Installing and executing Ant</li>
    <li>Core Ant tasks</li>
    <li>A working build script</li>
    <li>Ant techniques and patterns</li>
</ul>
</div>

<div style="visibility: visible;" id="slide3" class="slide">
<h1>Ant Overview</h1>
<ul>
    <li>Ant is the ubiquitous build tool in Java environments</li>
    <li>Ant is implemented in Java</li>
    <li>Ant is Open Source, maintained by Apache</li>
    <li>Ant is cross platform and portable</li>
    <li>Ant is well suited to a large number of automation and scripting tasks.</li>
    <li>Ant is <strong><em>not</em></strong> a programming language</li>
</ul>
<div class="handout">
<h2>Resources</h2>
<ul>
    <li>Ant Home Page: <a href="http://ant.apache.org/">http://ant.apache.org/</a></li>
</ul>
</div>
</div>

<div style="visibility: visible;" id="slide4" class="slide">
<h1>What Can Ant Do? (Part 1 of 2)</h1>
<ul>
    <li>Ant can get source code from version control
        <ul>
            <li>CVS, Subversion, Synergy, Perforce, ClearCase and many more</li>
        </ul>
    </li>
    <li>Ant can compile source code</li>
    <li>Ant can run unit tests
        <ul>
            <li>JUnit3, JUnit4, TestNG, or any arbitrary test application</li>
        </ul>
    </li>
    <li>Ant can package compiled code and resources
        <ul>
            <li>jars, wars, ears, tars, zips, whatever</li>
        </ul>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide5" class="slide">
<h1>What Can Ant Do? (Part 2 of 2)</h1>
<ul>
    <li>Ant can do much more...
        <ul>
            <li>Ant comes with over 80 core tasks, and 60 optional tasks</li>
            <li>There are over 100 <a href="http://ant.apache.org/external.html">
            third-party tools and tasks</a> written for Ant</li>
            <li>Ant extensions can be easily written for any unique problem</li>
        </ul>
    </li>
    <li>Ant can handle dependencies between targets</li>
    <li>More details on all these later...</li>
</ul>
<div class="handout">
<h2>Resources</h2>
<ul>
    <li>Overview of Ant Tasks:
    <a href="http://ant.apache.org/manual/tasksoverview.html">http://ant.apache.org/manual/tasksoverview.html</a></li>
    <li>External Tools and Tasks:
    <a href="http://ant.apache.org/external.html">http://ant.apache.org/external.html</a></li>
</ul>
</div>
</div>

<div style="visibility: visible;" id="slide6" class="slide">
<h1>Yeah, But My IDE Already Does That!</h1>
<ul>
    <li>IDE's are hard to automate</li>
    <li>IDE's are harder to setup</li>
    <li>IDE's are not ubiquitous</li>
    <li>Not everyone likes the same IDE</li>
    <li>All IDE's provide Ant integration, some even use Ant internally</li>
    <li>Ant is the least common denominator, it can be relied upon to work in
    all scenarios</li>
</ul>
</div>

<div style="visibility: visible;" id="slide7" class="slide">
<h1>Build Automation</h1>
<ul>
    <li>Automated build procedures are a best practice</li>
    <li>Manual procedures are mistake prone</li>
    <li>Automated builds are self documenting</li>
    <li>Automated builds improve productivity</li>
    <li>Automated builds can be triggered by other tools
        <ul>
            <li>Nightly builds using cron</li>
            <li>Continous integration using CruiseControl</li>
        </ul>
    </li>
</ul>
<div class="handout">
<h2>Notes</h2>
<ul>
    <li>Automated build procedures are a best practice in software engineering,
    because they are accurate, consistent and repeatable.</li>
    <li>Avoiding manual procedures means that there is no risk that something
    will be missed out or done incorrectly.</li>
    <li>Build automation reduces the need for documentation, and allows new
    members of a team immediately be able to generate a build or release without
    getting into the minutae of build procedures.</li>
    <li>An automated build should run at the fastest possible speed, freeing up
    time for more productive activities.</li>
    <li>CruiseControl (<a href="http://cruisecontrol.sourceforge.net/">http://cruisecontrol.sourceforge.net/</a>)
    is a build scheduler that will poll version control and trigger an automated
    build as soon as a change is checked in.</li>
</ul>
</div>
</div>


<div style="visibility: visible;" id="slide8" class="slide">
<h1>Agenda - Ant Terminology and Concepts</h1>
<ul>
    <li>Ant, and why to use it</li>
    <li class="current">Ant terminology and concepts
        <ul>
            <li>Project</li>
            <li>Target</li>
            <li>Tasks</li>
            <li>Properties</li>
            <li>Paths</li>
        </ul>
    </li>
    <li>Installing and executing Ant</li>
    <li>Core Ant tasks</li>
    <li>A working build script</li>
    <li>Ant techniques and patterns</li>
</ul>
<div class="handout">
<h2>Resources</h2>
<ul>
    <li>Using Ant: <a href="http://ant.apache.org/manual/using.html">http://ant.apache.org/manual/using.html</a></li>
</ul>
</div>
</div>

<div style="visibility: visible;" id="slide9" class="slide">
<h1>Project</h1>
<ul>
    <li>&lt;project&gt; is the top level element in an Ant script</li>
    <li>&lt;project&gt; has three optional attributes:
        <dl>
            <dt>name</dt>
            <dd>the name of the project</dd>
            <dt>default</dt>
            <dd>the default target to use when no target is supplied</dd>
            <dt>basedir</dt>
            <dd>the base directory from which all path calculations are done</dd>
        </dl>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide10" class="slide">
<h1>Target</h1>
<ul>
    <li>Each project defines zero or more targets</li>
    <li>A target is a set of tasks you want to be executed</li>
    <li>When starting Ant, you can select which target(s) you want to have executed</li>
    <li>When no target is given, the project's default is used</li>
    <li>Targets can be conditionally executed (using if/unless)</li>
    <li>A target can depend on other targets</li>
    <li>Target dependencies are transitive</li>
</ul>
</div>

<div style="visibility: visible;" id="slide11" class="slide">
<h1>Target Example</h1>

<img style="float: right;" src="0129%20Introduction%20to%20Ant_files/targets.png" alt="Example Targets with Dependencies">

<pre style="width: 60%;">&lt;target name="A"/&gt;
&lt;target name="B" depends="A"/&gt;
&lt;target name="C" depends="A"/&gt;
&lt;target name="D" depends="B,C"/&gt;</pre>
<ul>
    <li>Suppose we want to execute target D, which depends upon B and C</li>
    <li>C depends on A</li>
    <li>B depends on A</li>
    <li>so first A is executed, then B, then C, and finally D</li>
</ul>
</div>

<div style="visibility: visible;" id="slide12" class="slide">
<h1>Tasks</h1>
<ul>
    <li>A task is a piece of code that can be executed</li>
    <li>A task can have multiple attributes (a.k.a arguments)</li>
    <li>The value of an attribute might use the value of a property.</li>
    <li>Ant comes with over 80 core tasks, and 60 optional tasks</li>
    <li>There are over 100 <a href="http://ant.apache.org/external.html">third-party
    tools and tasks</a> written for Ant</li>
    <li>Ant task extensions can be easily written for any unique problem</li>
</ul>
<div class="handout">
<h2>Resources</h2>
<ul>
    <li>Overview of Ant Tasks:
    <a href="http://ant.apache.org/manual/tasksoverview.html">http://ant.apache.org/manual/tasksoverview.html</a></li>
    <li>External Tools and Tasks:
    <a href="http://ant.apache.org/external.html">http://ant.apache.org/external.html</a></li>
</ul>
</div>
</div>

<div style="visibility: visible;" id="slide13" class="slide">
<h1>Properties</h1>
<ul>
    <li>A property has a name and a value; the name is case-sensitive</li>
    <li>Properties may be used in the value of task attributes
        <ul>
            <li>This is done by placing the property name between "${" and "}"
            in the attribute value</li>
            <li>For example, if there is a "builddir" property with the value
            "build", then this could be used in an attribute like this:
            <code>${builddir}/classes</code>. This is resolved at run-time as
            <code>build/classes</code></li>
        </ul>
    </li>
    <li> Properties are immutable:
        <ul>
            <li>whoever sets a property first freezes it for the rest of the
            build</li>
            <li>they are most definitely not variable</li>
            <li>they are comparable to string constants in other languages</li>
        </ul>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide14" class="slide">
<h1>Setting Properties - Precedence</h1>
<ul>
    <li>When the same property is set in multiple places, the first definition
    of the property freezes the value, subsequent definition attempts fail. The
    following rules are used to determine precedence:
        <ol>
            <li>Properties defined on the command line: <code>-Dname=value</code></li>
            <li><code>&lt;property&gt;</code> elements under the
            <code>&lt;project&gt;</code> element in their written order</li>
            <li><code>&lt;property&gt;</code> elements under
            <code>&lt;target&gt;</code> elements in their executued order</li>
        </ol>
    </li>
</ul>
</div>


<div style="visibility: visible;" id="slide15" class="slide">
<h1>Setting Properties - Examples</h1>
<ul>
    <li>Set the property <code>foo.dist</code> to the value "dist":<br>
    &nbsp;&nbsp;<code>&lt;property name="foo.dist" value="dist"/&gt;</code></li>
    <li>Read a set of properties from a file called "foo.properties":<br>
    &nbsp;&nbsp;<code>&lt;property file="foo.properties"/&gt;</code></li>
    <li>Read a set of properties from a classpath resource called "foo.properties":<br>
    &nbsp;&nbsp;<code>&lt;property resource="foo.properties"/&gt;</code></li>
    <li>Read the system environment variables and store them in properties,
    prefixed with "env":<br>
    &nbsp;&nbsp;<code>&lt;property environment="env"/&gt;</code></li>
</ul>
</div>

<div style="visibility: visible;" id="slide16" class="slide">
<h1>Built-in Properties (Part 1 of 3)</h1>
<ul>
    <li>Ant provides access to all system properties as if they had been defined
    using a &lt;property&gt; task.
        <ul>
            <li>For example, ${os.name} expands to the name of the operating
            system.</li>
            <li>For a list of system properties see <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties%28%29">
            the Javadoc of System.getProperties</a></li>
        </ul>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide17" class="slide">
<h1>Built-in Properties (Part 2 of 3)</h1>
<ul>
    <li>In addition, Ant has some built-in properties:
        <dl>
            <dt>basedir</dt>
            <dd>the absolute path of the project's basedir (as set with the
            basedir attribute of &lt;project&gt;)</dd>
            <dt>ant.file</dt>
            <dd>the absolute path of the buildfile</dd>
            <dt>ant.version</dt>
            <dd>the version of Ant</dd>
        </dl>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide18" class="slide">
<h1>Built-in Properties (Part 3 of 3)</h1>
<ul>
    <li>More Ant built-in properties:
        <dl>
            <dt>ant.project.name</dt>
            <dd>the name of the project that is currently executing; it is set
                in the name attribute of &lt;project&gt;</dd>
            <dt>ant.java.version</dt>
            <dd>the JVM version Ant detected; currently it can hold the values
                "1.1", "1.2", "1.3", "1.4", "1.5" (and "1.6" soon).</dd>
        </dl>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide19" class="slide">
<h1>Paths</h1>
<pre>&lt;classpath&gt;
  &lt;pathelement path="${classpath}"/&gt;
  &lt;fileset dir="lib"&gt;
    &lt;include name="**/*.jar"/&gt;
  &lt;/fileset&gt;
  &lt;pathelement location="classes"/&gt;
  &lt;dirset dir="${build.dir}"&gt;
    &lt;include name="apps/**/classes"/&gt;
    &lt;exclude name="apps/**/*Test*"/&gt;
  &lt;/dirset&gt;
  &lt;filelist refid="third-party_jars"/&gt;
&lt;/classpath&gt;</pre>
</div>

<div style="visibility: visible;" id="slide20" class="slide">
<h1>Agenda - Installing and Executing Ant</h1>
<ul>
    <li>Ant, and why to use it</li>
    <li>Ant terminology and concepts</li>
    <li class="current">Installing and Executing Ant
        <ul>
            <li>Ant Environments</li>
            <li>Setup Ant</li>
            <li>Ant Project Help</li>
            <li>Ant Command Line</li>
        </ul>
    </li>
    <li>Core Ant tasks</li>
    <li>A working build script</li>
    <li>Ant techniques and patterns</li>
</ul>
</div>

<div style="visibility: visible;" id="slide21" class="slide">
<h1>Ant Environments</h1>
<ul>
    <li><img style="float: right;" src="0129%20Introduction%20to%20Ant_files/eclipseant.png" alt="Eclipse Ant View">
    WSAD / RAD / Eclipse
        <ul>
            <li>Ant is build into these IDEs</li>
            <li>All have a specialised "Ant View"</li>
        </ul>
    </li>
    <li>Command line
        <ul>
            <li>Main automation environment (CruiseControl)</li>
            <li>Requires JDK to be installed</li>
            <li>The rest of this talk will be assuming that the command line is
            being used, but everything will still work in an IDE</li>
        </ul>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide22" class="slide">
<h1>Setup Ant</h1>
<ul>
    <li>Download latest stable zip file from <a href="http://ant.apache.org/bindownload.cgi">http://ant.apache.org/bindownload.cgi</a></li>
    <li>Unzip downloaded file into a directory</li>
    <li>Setup Environment Variables
        <ul>
            <li>Define <code>ANT_HOME</code> to be the location where Ant was
            unzipped</li>
            <li>Define <code>JAVA_HOME</code> to be the location where the JDK
            is installed</li>
            <li>Add <code>%ANT_HOME%\bin</code> to the <code>PATH</code></li>
        </ul>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide23" class="slide">
<h1>Ant Project Help</h1>
<ul>
    <li><code>ant -projecthelp</code> will list descriptions and targets for a
    build file.</li>
</ul>
<pre>%ant -projecthelp
Buildfile: build.xml
 
        simple example build file
     
Main targets:
 
 clean    clean up
 compile  compile the source
 dist     generate the distribution
Default target: dist</pre>
</div>

<div style="visibility: visible;" id="slide24" class="slide">
<h1>Ant Command Line</h1>
<ul>
    <li><code>ant [<em>options</em>] [<em>target-names</em>]</code>
        <ul>
            <li>runs targets with specified names, preceded by targets on which
            they depend</li>
            <li>can specify multiple target names separated by spaces</li>
            <li>omit target-name to run the default target</li>
            <li><code>-D</code> option specifies a property that can be used by
            targets and tasks.<br>
            e.g. <code>-Dproperty-name=property-value</code></li>
        </ul>
    </li>
    <li><code>ant -help</code>
        <ul>
            <li>lists other command line options</li>
        </ul>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide25" class="slide">
<h1>Agenda - Core Ant Tasks</h1>
<ul>
    <li>Ant, and why to use it</li>
    <li>Ant terminology and concepts</li>
    <li>Installing and executing Ant</li>
    <li class="current">Core Ant tasks
        <ul>
            <li>File Tasks</li>
            <li>Compile Tasks</li>
            <li>Archive Tasks</li>
            <li>Testing Tasks</li>
            <li>Property Tasks</li>
            <li>Miscellaneous Tasks</li>
        </ul>
    </li>
    <li>A working build script</li>
    <li>Ant techniques and patterns</li>
</ul>
</div>

<div style="visibility: visible;" id="slide26" class="slide">
<h1>File Tasks</h1>
<div style="float: left; width: 50%;">
<ul>
    <li><code>&lt;copy&gt;</code></li>
    <li><code>&lt;concat&gt;</code></li>
    <li><code>&lt;delete&gt;</code></li>
    <li><code>&lt;filter&gt;</code></li>
    <li><code>&lt;fixcrlf&gt;</code></li>
    <li><code>&lt;get&gt;</code></li>
</ul>
</div>
<ul>
    <li><code>&lt;mkdir&gt;</code></li>
    <li><code>&lt;move&gt;</code></li>
    <li><code>&lt;replace&gt;</code></li>
    <li><code>&lt;sync&gt;</code></li>
    <li><code>&lt;tempfile&gt;</code></li>
    <li><code>&lt;touch&gt;</code></li>
</ul>
</div>

<div id="slide27" style="clear: both; visibility: visible;" class="slide">
<h1>Compile Tasks</h1>
<dl>
    <dt><code>&lt;javac&gt;</code></dt>
    <dd>Compiles the specified source file(s) within the running (Ant) VM, or in
    another VM if the fork attribute is specified.</dd>
    <dt><code>&lt;apt&gt;</code></dt>
    <dd>Runs the annotation processor tool (apt), and then optionally compiles the
    original code, and any generated source code.</dd>
    <dt><code>&lt;rmic&gt;</code></dt>
    <dd>Runs the rmic compiler</dd>
</dl>
</div>

<div style="visibility: visible;" id="slide28" class="slide">
<h1>Archive Tasks</h1>
<dl>
    <dt><code>&lt;zip&gt;</code>, <code>&lt;unzip&gt;</code></dt>
    <dd>Creates a zipfile.</dd>
    <dt><code>&lt;jar&gt;</code>, <code>&lt;unjar&gt;</code></dt>
    <dd>Jars a set of files.</dd>
    <dt><code>&lt;war&gt;</code>, <code>&lt;unwar&gt;</code></dt>
    <dd>An extension of the Jar task with special treatment web archive dirs</dd>
    <dt><code>&lt;ear&gt;</code></dt>
    <dd>An extension of the Jar task with special treatment enterprise archive
    dirs.</dd>
</dl>
</div>

<div style="visibility: visible;" id="slide29" class="slide">
<h1>Testing Tasks</h1>
<dl>
    <dt><code>&lt;junit&gt;</code></dt>
    <dd>Runs tests from the JUnit testing framework.</dd>
    <dt><code>&lt;junitreport&gt;</code></dt>
    <dd>Merges the individual XML files generated by the Junit task and applies
    a stylesheet on the resulting merged document to provide a browsable report
    of the testcases results.</dd>
</dl>
</div>

<div style="visibility: visible;" id="slide30" class="slide">
<h1>Property Tasks</h1>
<dl>
    <dt><code>&lt;dirname&gt;</code></dt>
    <dd>Sets a property to the value excluding the last path element.</dd>
    <dt><code>&lt;loadfile&gt;</code></dt>
    <dd>Loads a file into a property.</dd>
    <dt><code>&lt;propertyfile&gt;</code></dt>
    <dd>Creates or modifies property files.</dd>
    <dt><code>&lt;uptodate&gt;</code></dt>
    <dd>Sets a property if a given target file is newer than a set of source
    files.</dd>
</dl>
</div>

<div style="visibility: visible;" id="slide31" class="slide">
<h1>Miscellaneous Tasks</h1>
<dl>
    <dt><code>&lt;echo&gt;</code></dt>
    <dd>Echoes text to <code>System.out</code> or to a file.</dd>
    <dt><code>&lt;javadoc&gt;</code></dt>
    <dd>Generates code documentation using the javadoc tool.</dd>
    <dt><code>&lt;sql&gt;</code></dt>
    <dd>Executes a series of SQL statements via JDBC to a database. Statements
    can either be read in from a text file using the <code>src</code> attribute,
    or from between the enclosing SQL tags.</dd>
</dl>
</div>

<div style="visibility: visible;" id="slide32" class="slide">
<h1>Agenda - A Working Build Script</h1>
<ul>
    <li>Ant, and why to use it</li>
    <li>Ant terminology and concepts</li>
    <li>Installing and executing Ant</li>
    <li>Core Ant tasks</li>
    <li class="current">A working build script
        <ul>
            <li>Example Scenario</li>
            <li>init target</li>
            <li>clean target</li>
            <li>compile target</li>
            <li>dist target</li>
            <li>Output of the Script</li>
        </ul>
    </li>
    <li>Ant techniques and patterns</li>
</ul>
</div>

<div style="visibility: visible;" id="slide33" class="slide">
<h1>Example Scenario</h1>
<ul>
    <li>Top level directory called <code>antexample</code></li>
    <li><code>build.xml</code> lives in the top level directory.</li>
    <li>Code is kept in the <code>src</code> subdirectory</li>
    <li>Single source code file called <code>src/HelloWorld.java</code></li>
</ul>
</div>

<div style="visibility: visible;" id="slide34" class="slide">
<h1>init target</h1>
<pre>&lt;project name="MyProject" default="dist" basedir="."&gt;
    &lt;description&gt;
        simple example build file
    &lt;/description&gt;
  &lt;!-- set global properties for this build --&gt;
  &lt;property name="src" location="src"/&gt;
  &lt;property name="build" location="build"/&gt;
  &lt;property name="dist"  location="dist"/&gt;

  &lt;target name="init"&gt;
    &lt;!-- Create the time stamp --&gt;
    &lt;tstamp/&gt;
    &lt;!-- Create the build directory structure used by compile --&gt;
    &lt;mkdir dir="${build}"/&gt;
  &lt;/target&gt;</pre>
</div>

<div style="visibility: visible;" id="slide35" class="slide">
<h1>compile target</h1>
<pre>  &lt;target name="compile" depends="init"
        description="compile the source " &gt;
    &lt;!-- Compile the java code from ${src} into ${build} --&gt;
    &lt;javac srcdir="${src}" destdir="${build}"/&gt;
  &lt;/target&gt;</pre>
</div>

<div style="visibility: visible;" id="slide36" class="slide">
<h1>dist target</h1>
<pre>  &lt;target name="dist" depends="compile"
        description="generate the distribution" &gt;
    &lt;!-- Create the distribution directory --&gt;
    &lt;mkdir dir="${dist}/lib"/&gt;

    &lt;!-- Put everything in ${build} into the MyProject-${DSTAMP}.jar file --&gt;
    &lt;jar jarfile="${dist}/lib/${ant.project.name}-${DSTAMP}.jar" basedir="${build}"/&gt;
  &lt;/target&gt;</pre>
</div>

<div style="visibility: visible;" id="slide37" class="slide">
<h1>clean target</h1>
<pre>  &lt;target name="clean"
        description="clean up" &gt;
    &lt;!-- Delete the ${build} and ${dist} directory trees --&gt;
    &lt;delete dir="${build}"/&gt;
    &lt;delete dir="${dist}"/&gt;
  &lt;/target&gt;
&lt;/project&gt;</pre>
</div>

<div style="visibility: visible;" id="slide38" class="slide">
<h1>Output of the Script</h1>
<pre>C:\antexample&gt;ant
Buildfile: build.xml

init:
    [mkdir] Created dir: C:\antexample\build

compile:
    [javac] Compiling 1 source file to C:\antexample\build

dist:
    [mkdir] Created dir: C:\antexample\dist\lib
      [jar] Building jar: C:\antexample\dist\lib\MyProject-20050710.jar

BUILD SUCCESSFUL
Total time: 5 seconds

C:\antexample&gt;java -cp dist\lib\MyProject-20050711.jar HelloWorld
Hello, world</pre>
</div>

<div style="visibility: visible;" id="slide39" class="slide">
<h1>Agenda - Ant Techniques and Patterns</h1>
<ul>
    <li>Ant, and why to use it</li>
    <li>Ant terminology and concepts</li>
    <li>Installing and executing Ant</li>
    <li>Core Ant tasks</li>
    <li>A working build script</li>
    <li class="current">Ant techniques and patterns
        <ul>
            <li>Use Simple Targets</li>
            <li>Use Standard Targets</li>
            <li>Use Properties for Configurability</li>
        </ul>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide40" class="slide">
<h1>Use Simple Targets</h1>
<ul>
    <li>Each target should do a single well defined job</li>
    <li>Targets that do muliple jobs should be split up into multiple targets
    with dependencies between them</li>
    <li>Targets that do <em>too much</em> make the build harder to maintain</li>
    <li>Library scripts need to allow targets to be overridden. This is easier
    when the targets perform a single job</li>
</ul>
</div>

<div style="visibility: visible;" id="slide41" class="slide">
<h1>Use Standard Targets</h1>
<ul>
    <li>It is easier for people to use a standard set of commands</li>
    <li>Developers can switch from one project to another and immediately
    understand how the build script works</li>
    <li>Standard targets can be easily overriden in a project build file</li>
</ul>
</div>

<div style="visibility: visible;" id="slide42" class="slide">
<h1>Use Properties for Configurability</h1>
<ul>
    <li>Properties should be defined for:
        <ul>
            <li>Any piece of information that needs to be configured</li>
            <li>Any piece of information that might change</li>
            <li>Any piece of information that is used in more than one place</li>
        </ul>
    </li>
    <li>Properties should be defined at the top of the buildfile or in a
    standalone properties file</li>
    <li>Properties explicitly define the configurable portion of the build.
    You can provide a different version of this properties file for different:
        <ul>
            <li>platforms</li>
            <li>environments</li>
            <li>operating systems</li>
            <li>developers</li>
        </ul>
    </li>
</ul>
</div>

<div style="visibility: visible;" id="slide43" class="slide">
<h1>The End</h1>
<ul>
    <li>Any Questions?</li>
</ul>
<p style="text-align: center;">
<img src="0129%20Introduction%20to%20Ant_files/questions.jpg" alt="Asking a question" title="Questions?">
</p>
</div>

<div style="visibility: visible;" id="slide44" class="slide">
<h1>Homework</h1>
<ul>
    <li>Explore <a href="http://ant.apache.org/">http://ant.apache.org/</a></li>
    <li>Read the manual: <a href="http://ant.apache.org/manual/">http://ant.apache.org/manual/</a></li>
    <li>Read the tutorial: <a href="http://ant.apache.org/manual/tutorial-HelloWorldWithAnt.html">http://ant.apache.org/manual/tutorial-HelloWorldWithAnt.html</a></li>
    <li>Install Ant (you may need to install a JDK as well)</li>
    <li>Run example script</li>
</ul>
</div>

</div>

</body></html>