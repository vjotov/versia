<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="GENERATOR" content="Quadralay WebWorks Publisher 5.0.4">
<meta name="TEMPLATEBASE" content="SunLook1.0">
<meta name="LASTUPDATED" content="Mon Apr 03 18:40:48 2000">
<title>Controlling Workspace Access</title>
</head>

<body bgcolor="#FFFFFF">

<!-- BEGINNING OF NAVIGATION BAR ------------------------------------------------- -->

<table width="100%" cellpadding="0" cellspacing="0" border="0">
<tr bgcolor="cccccc">

<td align="left">
&nbsp;&nbsp;<font face="helvetica,arial" size="2">Sun WorkShop TeamWare User's Guide</font>
</td>

<td valign="top" align="right"><a href="javascript:if(confirm('http://docs.sun.com/index.html  \n\nThis file was not retrieved by Teleport Pro, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?'))window.location='http://docs.sun.com/index.html'" tppabs="http://docs.sun.com/index.html"><IMG SRC="home01.gif" tppabs="http://docs.sun.com/source/806-3573/images/home01.gif" ALT="Home" WIDTH="30" HEIGHT="26" BORDER="0" 
VSPACE="0"></a><a href="javascript:if(confirm('http://docs.sun.com/source/806-3573/TeamWareTOC.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://docs.sun.com/source/806-3573/TeamWareTOC.html'" tppabs="http://docs.sun.com/source/806-3573/TeamWareTOC.html"><IMG SRC="toc01.gif" tppabs="http://docs.sun.com/source/806-3573/images/toc01.gif" ALT="Contents" WIDTH="30" HEIGHT="26" BORDER="0" 
VSPACE="0"></a><a href="config_adv.html" tppabs="http://docs.sun.com/source/806-3573/config_adv.html"><IMG SRC="prev01.gif" tppabs="http://docs.sun.com/source/806-3573/images/prev01.gif" ALT="Previous" WIDTH="30" HEIGHT="26" BORDER="0" 
VSPACE="0"></a><a href="version.html" tppabs="http://docs.sun.com/source/806-3573/version.html"><IMG SRC="next01.gif" tppabs="http://docs.sun.com/source/806-3573/images/next01.gif" ALT="Next" WIDTH="30" HEIGHT="26" BORDER="0" 
VSPACE="0"></a><a href="TeamWareIX.html" tppabs="http://docs.sun.com/source/806-3573/TeamWareIX.html"><IMG SRC="index01.gif" tppabs="http://docs.sun.com/source/806-3573/images/index01.gif" ALT="Index" WIDTH="30" HEIGHT="26" BORDER="0" VSPACE="0"></a></td>

</tr>
</table>

<!-- END OF NAVIGATION BAR ------------------------------------------------------- -->

<br clear="all">

<hr>

<blockquote>

<div align="center">
<h1 align="left">
  <a name="8903"> </a><font color="#003366" face="Verdana, Arial, Helvetica, sans-serif">Chapter 4 </font>
</h1>
</div>

<h1 align="left">
  <a name="8905"> </a><font color="#003366" face="Verdana, Arial, Helvetica, sans-serif">Controlling Workspace Access</font>
</h1>


<p>
  <a name="7670"> </a><font face="Verdana, Arial, Helvetica, sans-serif">Sun WorkShop TeamWare allows you to control who can putback files to workspaces by setting permissions and through putback validation. This chapter covers the following topics:</font>
</p>

<ul type=disc><a name="7684"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li><a href="access.html#9249" tppabs="http://docs.sun.com/source/806-3573/access.html#9249"></a><a href="access.html#7719" tppabs="http://docs.sun.com/source/806-3573/access.html#7719">Specifying Permissions</a> </font><a name="7686"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li><a href="access.html#8163" tppabs="http://docs.sun.com/source/806-3573/access.html#8163">Protecting Workspaces With Putback Validation</a> </font><a name="7680"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li><a href="access.html#8017" tppabs="http://docs.sun.com/source/806-3573/access.html#8017">Removing Workspace Locks</a> </font></ul>
<h2>
  <a name="7719"> </a><font color="#003366" face="Verdana, Arial, Helvetica, sans-serif">Specifying Permissions</font>
</h2>


<p>
  <a name="9267"> </a><font face="Verdana, Arial, Helvetica, sans-serif">You can grant or deny permissions on a global (see <a href="access.html#9249" tppabs="http://docs.sun.com/source/806-3573/access.html#9249">Specifying Global Permissions</a>), group, or individual basis (see <a href="access.html#7733" tppabs="http://docs.sun.com/source/806-3573/access.html#7733">Specifying Group or Individual Permissions</a>).</font>
</p>


<p>
  <a name="9665"> </a><font face="Verdana, Arial, Helvetica, sans-serif">You can grant or deny permission for individual users or groups to perform the following Sun WorkShop TeamWare transactions:</font>
</p>

<ul type=disc><a name="9667"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Bringover-from</font><a name="9668"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Bringover-to</font><a name="9669"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Putback-from</font><a name="9670"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Putback-to</font><a name="9671"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Undo</font><a name="9672"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Workspace delete</font><a name="9673"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Workspace move</font><a name="9674"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Workspace reparent</font><a name="9675"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Workspace reparent-to</font>
<p><hr noshade size="1">
  <a name="9676"> </a><font face="Verdana, Arial, Helvetica, sans-serif"><b>Note &#150; </b>Transactions can take longer to complete when you set access control. If you grant or deny permissions to a large group, Configuring can take several seconds to look up the members of the group before executing a transaction.</font>
<hr noshade size="1"></p>

</ul>
<h3>
  <a name="9249"> </a><font color="#003366" face="Verdana, Arial, Helvetica, sans-serif">Specifying Global Permissions</font>
</h3>


<p>
  <a name="9250"> </a><font face="Verdana, Arial, Helvetica, sans-serif">To specify global permissions:</font>
</p>

<p><blockquote>
<a name="8055"> </a><b>	1.	 Start Configuring.</b></blockquote>
</p><p><blockquote>
<a name="8056"> </a><b>	2.	 Choose File <img src="Chevron.gif" tppabs="http://docs.sun.com/source/806-3573/chars/zd/Chevron.gif">  Load Workspaces.</b></blockquote>
</p><p><blockquote>
<a name="8057"> </a><b>	3.	 Select the workspace in the Load Workspaces dialog box and click Load Workspaces.</b></blockquote>
</p><p><blockquote>
<a name="8068"> </a><b>	4.	 Click on the workspace to select it.</b></blockquote>
</p><p><blockquote>
<a name="7722"> </a><b>	5.	 Choose Workspace <img src="Chevron.gif" tppabs="http://docs.sun.com/source/806-3573/chars/zd/Chevron.gif">  Properties. </b></blockquote>
</p><p><blockquote>
<a name="9307"> </a><b>	6.	 Select the Access Control tab in the Workspace Properties dialog box.</b></blockquote>
</p>
<a name="8218"> </a><font  size="2" face="Verdana, Arial, Helvetica, sans-serif"><img src="Accesscontrol.gif" tppabs="http://docs.sun.com/source/806-3573/images/Accesscontrol.gif" height="449" width="658">
<br></font>

<a name="7724"> </a><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><b>FIGURE 4-1 	</b>&nbsp;&nbsp;Workspace Properties: Access Control Tab</font><p><blockquote>
<a name="8219"> </a><b>	7.	 Select an operation and click Edit.</b></blockquote>
</p><dl>  <dl>
     <dt> <a name="8129"> </a><font face="Verdana, Arial, Helvetica, sans-serif">This displays the Access Control Properties dialog box.</font>
  </dl>
</dl><p><blockquote>
<a name="7725"> </a><b>	8.	 Select the type of permission you want to allow:</b></blockquote>
</p><ul type=disc><a name="7726"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>None: No users have permission</font><a name="7727"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>All: All users have permission</font></ul><dl>
  <dt> <a name="8132"> </a><font face="Verdana, Arial, Helvetica, sans-serif">By default, all users have permission to execute the transaction.</font>
</dl>
<p><blockquote>
<a name="7774"> </a><b>	9.	 Click OK.</b></blockquote>
</p>
<h3>
  <a name="7733"> </a><font color="#003366" face="Verdana, Arial, Helvetica, sans-serif">Specifying Group or Individual Permissions </font>
</h3>

<p><blockquote>
<a name="8061"> </a><b>	1.	 Start Configuring.</b></blockquote>
</p><p><blockquote>
<a name="8062"> </a><b>	2.	 Choose File <img src="Chevron.gif" tppabs="http://docs.sun.com/source/806-3573/chars/zd/Chevron.gif">  Load Workspaces.</b></blockquote>
</p><p><blockquote>
<a name="8063"> </a><b>	3.	 Select the workspace in the Load Workspaces dialog box and click Load Workspaces.</b></blockquote>
</p><p><blockquote>
<a name="7735"> </a><b>	4.	 Click on the workspace to select it.</b></blockquote>
</p><p><blockquote>
<a name="7736"> </a><b>	5.	 Choose Workspace <img src="Chevron.gif" tppabs="http://docs.sun.com/source/806-3573/chars/zd/Chevron.gif">  Properties. </b></blockquote>
</p><p><blockquote>
<a name="7737"> </a><b>	6.	 Select the Access Control tab in the Workspace Properties dialog box.</b></blockquote>
</p><p><blockquote>
<a name="7738"> </a><b>	7.	 Select an operation and click Edit to display the Access Control Properties dialog box.</b></blockquote>
</p><p><blockquote>
<a name="7739"> </a><b>	8.	 Click the Specify permissions radio button.</b></blockquote>
</p><p><blockquote>
<a name="7740"> </a><b>	9.	 In the Name text box, type a user's (or group's) login name.</b></blockquote>
</p><p><blockquote>
<a name="7741"> </a><b>	10.	 Click the User or Netgroup button to indicate whether it is a single user or a group.</b></blockquote>
</p><p><blockquote>
<a name="7742"> </a><b>	11.	 Click the Granted or Denied radio button.</b></blockquote>
</p><p><blockquote>
<a name="7743"> </a><b>	12.	 Click the Insert Before or Insert After button to add the user to the list (or to start the list).</b></blockquote>
</p><p><blockquote>
<a name="9326"> </a><b>	13.	 Click OK.</b></blockquote>
</p><dl>  <dl>
     <dt> <a name="9327"> </a><font face="Verdana, Arial, Helvetica, sans-serif">The user or netgroup is displayed on the permissions list in the Access Control tab.</font>

<p><hr noshade size="1">
  <a name="7990"> </a><font face="Verdana, Arial, Helvetica, sans-serif"><b>Note &#150; </b>The order in which a user appears on the list can have an effect on permissions. If a user is listed as having been both granted and denied permission, Sun WorkShop TeamWare tools use only the first reference. This can occur when you grant access to an individual and deny access to a group that the individual belongs to. In this instance, if the individual is listed first, the individual will have access, if the group is listed first, the individual does not have access.</font>
<hr noshade size="1"></p>

  </dl>
</dl>
<h2>
  <a name="8163"> </a><font color="#003366" face="Verdana, Arial, Helvetica, sans-serif">Protecting Workspaces With Putback Validation</font>
</h2>


<p>
  <a name="9572"> </a><font face="Verdana, Arial, Helvetica, sans-serif">Use putback validation if you want to have more strict control over a workspace. When you turn on putback validation, only putbacks are allowed to the workspace. The user is also prompted for a "password" (Integration Request Identifier) before doing a putback. Configuring does not validate the Integration Request Identifier, but it will pass it on to another program. To validate the Integration Request Identifier, you must write your own validation program. See <a href="access.html#9685" tppabs="http://docs.sun.com/source/806-3573/access.html#9685">Invoking Your Own Putback Validation Program</a>. If Putback Validation is turned on, but you do not have your own putback validation script, Configuring always allows the putback. The Integration Request Identifier supplied by the user is recorded in workspace history file and under the heading RTI (Request To Integrate).</font>
</p>


<p>
  <a name="9578"> </a><font face="Verdana, Arial, Helvetica, sans-serif"><a href="access.html#9589" tppabs="http://docs.sun.com/source/806-3573/access.html#9589">TABLE&nbsp;4-1</a> summarizes the three Putback Validation modes.<p>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
  <caption ALIGN="left"><b><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><a name="9589"> </a><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><b>TABLE 4-1 	</b>&nbsp;&nbsp;Putback Validation Modes</font></font></b></caption>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><a name="9595"> </a>Mode</font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><a name="9597"> </a>User</font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><a name="9599"> </a>Configuring</font></th>
  </div></tr>
  <tr>
    <td>
<a name="9601"> </a>Putback Validation off (default)</td>
    <td>
<a name="9603"> </a>Does nothing.</td>
    <td>
<a name="9605"> </a>Allows all putbacks to workspace.</td>
  </tr>
  <tr>
    <td>
<a name="9607"> </a>Putback Validation on</td>
    <td>
<a name="9609"> </a>Turns on Putback Validation.</td>
    <td>
<a name="9611"> </a>Requires a "password" (Integration Request Identifier) before a putback is allowed. Password is not validated, merely recorded.</td>
  </tr>
  <tr>
    <td>
<a name="9613"> </a>Putback Validation on and passwords checked.</td>
    <td>
<a name="9615"> </a>Writes putback validation program, turns on Putback Validation, invokes putback validation program.</td>
    <td>
<a name="9617"> </a>Requires a "password" (Integration Request Identifier) before a putback is allowed. Integration Request Identifier is passed to validation program. Validation program must grant permission before putback is allowed.</td>
  </tr>
</table>


</p>
<br> </font>
</p>


<p>
  <a name="9475"> </a><font face="Verdana, Arial, Helvetica, sans-serif">SCCS also allows you to require a check-in validation for individual files. See <a href="versionadv.html#9655" tppabs="http://docs.sun.com/source/806-3573/versionadv.html#9655">Setting SCCS File Properties</a>.</font>
</p>


<h3>
  <a name="7795"> </a><font color="#003366" face="Verdana, Arial, Helvetica, sans-serif">Turning On Putback Validation</font>
</h3>


<p>
  <a name="9489"> </a><font face="Verdana, Arial, Helvetica, sans-serif">To turn on Putback Validation:</font>
</p>

<p><blockquote>
<a name="7796"> </a><b>	1.	 In the Configuring Window, load an existing workspace by choosing File <img src="Chevron.gif" tppabs="http://docs.sun.com/source/806-3573/chars/zd/Chevron.gif">  Load Workspaces.</b></blockquote>
</p><p><blockquote>
<a name="7797"> </a><b>	2.	 Click on the workspace to select it.</b></blockquote>
</p><p><blockquote>
<a name="7798"> </a><b>	3.	 Choose Workspace <img src="Chevron.gif" tppabs="http://docs.sun.com/source/806-3573/chars/zd/Chevron.gif">  Workspace Properties.</b></blockquote>
</p><p><blockquote>
<a name="7799"> </a><b>	4.	 Click the Putback Validation tab in the Workspace Properties Dialog Box (see <a href="access.html#7800" tppabs="http://docs.sun.com/source/806-3573/access.html#7800">FIGURE&nbsp;4-2</a>).</b></blockquote>
</p>
<a name="8133"> </a><font  size="2" face="Verdana, Arial, Helvetica, sans-serif"><img src="Putbackvalid.gif" tppabs="http://docs.sun.com/source/806-3573/images/Putbackvalid.gif" height="454" width="624">
<br></font>

<a name="7800"> </a><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><b>FIGURE 4-2 	</b>&nbsp;&nbsp;Workspace Properties: Putback Validation Tab</font><p><blockquote>
<a name="8255"> </a><b>	5.	 Click Putback Validation On.</b></blockquote>
</p><p><blockquote>
<a name="7790"> </a><b>	6.	 Click OK.</b></blockquote>
</p>
<h3>
  <a name="9685"> </a><font color="#003366" face="Verdana, Arial, Helvetica, sans-serif">Invoking Your Own Putback Validation Program</font>
</h3>

<dl>  <dl>
     <dt> <a name="7825"> </a><font face="Verdana, Arial, Helvetica, sans-serif">If a validation program is set for a workspace, any putback operation to the workspace will invoke the program that you indicate. If the program fails, then the putback is canceled.</font>
     <dt> <a name="7807"> </a><font face="Verdana, Arial, Helvetica, sans-serif">The validation program is not a part of Sun WorkShop TeamWare. You must provide your own putback validation program. A sample validation program is provided in <a href="access.html#8710" tppabs="http://docs.sun.com/source/806-3573/access.html#8710">CODE&nbsp;EXAMPLE&nbsp;4-1</a>.</font>
     <dt> <a name="7814"> </a><font face="Verdana, Arial, Helvetica, sans-serif">To invoke your validation program:</font>
  </dl>
</dl><p><blockquote>
<a name="7834"> </a><b>	1.	 In the Configuring Window, load the workspace by choosing File <img src="Chevron.gif" tppabs="http://docs.sun.com/source/806-3573/chars/zd/Chevron.gif">  Load Workspaces.</b></blockquote>
</p><p><blockquote>
<a name="7835"> </a><b>	2.	 Click on the workspace to select it.</b></blockquote>
</p><p><blockquote>
<a name="7836"> </a><b>	3.	 Choose Workspace <img src="Chevron.gif" tppabs="http://docs.sun.com/source/806-3573/chars/zd/Chevron.gif">  Workspace Properties. </b></blockquote>
</p><p><blockquote>
<a name="7837"> </a><b>	4.	 Click the Putback Validation tab in the Workspace Properties dialog box.</b></blockquote>
</p><p><blockquote>
<a name="7838"> </a><b>	5.	 Click Putback Validation On.</b></blockquote>
</p><p><blockquote>
<a name="7839"> </a><b>	6.	 Click Putback Approval: Approved by Validation Program.</b></blockquote>
</p><p><blockquote>
<a name="7840"> </a><b>	7.	 Type the path to your validation program in the Validation Program text box.</b></blockquote>
</p><p><blockquote>
<a name="7804"> </a><b>	8.	 Click OK.</b></blockquote>
</p>
<h4>
  <a name="7846"> </a><font color="#003366" face="Verdana, Arial, Helvetica, sans-serif">Sample Validation Program</font>
</h4>

<dl>  <dl>
     <dt> <a name="7938"> </a><font face="Verdana, Arial, Helvetica, sans-serif">This is a sample validation program you can use to determine whether you want to allow a putback to a specific workspace. It can be any executable file (shell script, program, etc.) that accepts arguments passed by putback and returns nonzero exit status to deny putback.</font>
     <dt> <a name="8103"> </a><font face="Verdana, Arial, Helvetica, sans-serif">The user who wants to do a putback will be prompted for a Integration Request ID and then the validation program will be invoked with the following arguments: </font>
  </dl>
</dl><ul type=disc><a name="8104"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>User ID of the user doing the putback ($1)</font><a name="8105"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>"from" workspace full path name ($2)</font><a name="8106"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>"to" workspace full path name ($3)</font><a name="8107"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Integration Request ID ($4)</font><a name="8707"> </a>
<font face="Verdana, Arial, Helvetica, sans-serif"><li>Name of the file which contains the list of files to be modified ($5)</font></ul>
<p>
  <a name="8889"> </a><font face="Verdana, Arial, Helvetica, sans-serif"><a href="access.html#8710" tppabs="http://docs.sun.com/source/806-3573/access.html#8710">CODE&nbsp;EXAMPLE&nbsp;4-1</a> is a program that checks all the arguments and, if successful, returns a zero exit status to allow the putback.<p>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0"><caption align="left"><a name="8710"> </a><font face="Verdana, Arial, Helvetica, sans-serif" size="-1"><b>CODE EXAMPLE 4-1 	</b>&nbsp;&nbsp;Sample Putback Validation Program&nbsp;</font></caption><tr><td>
<table border="0" 
       cellpadding="5" cellspacing="0">  
  <tr>
    <td><font face="Courier"><a name="8896"> </a>
<pre>
</pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8712"> </a>
<pre>## Start of sample validation program
</pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8714"> </a>
<pre><code>#!/bin/sh
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8716"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8718"> </a>
<pre><code>## Here is the list of users who can perform
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8720"> </a>
<pre><code>## putback to the workspace
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8722"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8724"> </a>
<pre><code>valid_users="nikm azv builder vvg aar"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8726"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8728"> </a>
<pre><code>## Here is the list of Integration Request Ids which
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8730"> </a>
<pre><code>## are accepted
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8732"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8734"> </a>
<pre><code>P1Bugs="1111111 2222222 1234567 bobs_bug"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8736"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8738"> </a>
<pre><code>## Here are the directories which cannot change
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8740"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8742"> </a>
<pre><code>DirsReady="doc subdir/doc"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8744"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8746"> </a>
<pre><code>## Save arguments
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8748"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8750"> </a>
<pre><code>User=$1
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8752"> </a>
<pre><code>        shift
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8754"> </a>
<pre><code>Parent=$1
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8756"> </a>
<pre><code>        shift
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8758"> </a>
<pre><code>Child=$1
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8760"> </a>
<pre><code>        shift
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8762"> </a>
<pre><code>IRI=$1
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8764"> </a>
<pre><code>        shift
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8766"> </a>
<pre><code>Files=`cat $1`
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8768"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8770"> </a>
<pre><code>## Validate user
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8772"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8774"> </a>
<pre><code>isValid="false"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8776"> </a>
<pre><code>for u in $valid_users
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8778"> </a>
<pre><code>do
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8780"> </a>
<pre><code>   if [ "$User" = "$u" ] ; then
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8782"> </a>
<pre><code>      isValid="true"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8784"> </a>
<pre><code>      break
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8786"> </a>
<pre><code>   fi
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8788"> </a>
<pre><code>done
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8790"> </a>
<pre><code>if [ "$isValid" = "false" ] ; then
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8792"> </a>
<pre><code>   # invalid user
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8794"> </a>
<pre><code>   echo ""
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8796"> </a>
<pre><code>   echo "*** Validation failed: User $User is not allowed \
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8798"> </a>
<pre><code>        to putback to $Parent"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8800"> </a>
<pre><code>   echo ""
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8802"> </a>
<pre><code>   exit 1
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8804"> </a>
<pre><code>fi
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8806"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8808"> </a>
<pre><code>## Validate Integration Request Id (IRI)
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8810"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8812"> </a>
<pre><code>isValid="false"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8814"> </a>
<pre><code>for u in $P1Bugs
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8816"> </a>
<pre><code>do
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8818"> </a>
<pre><code>  if [ "$IRI" = "$u" ] ; then
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8820"> </a>
<pre><code>     isValid="true"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8822"> </a>
<pre><code>     break
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8824"> </a>
<pre><code>  fi
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8826"> </a>
<pre><code>done
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8828"> </a>
<pre><code>if [ "$isValid" = "false" ] ; then
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8830"> </a>
<pre><code>   # invalid IRI
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8832"> </a>
<pre><code>   echo ""
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8834"> </a>
<pre><code>   echo "*** Validation failed: Integration request $IRI \
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8836"> </a>
<pre><code>        is invalid"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8838"> </a>
<pre><code>   echo ""
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8840"> </a>
<pre><code>   exit 1
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8842"> </a>
<pre><code>fi
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8844"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8846"> </a>
<pre><code>## Validate files
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8848"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8850"> </a>
<pre><code>for u in $Files
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8852"> </a>
<pre><code>do
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8854"> </a>
<pre><code>   for uu in $DirsReady
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8856"> </a>
<pre><code>   do
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8858"> </a>
<pre><code>      x=`echo $u | grep $uu`
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8860"> </a>
<pre><code>      if [ "$x" != "" ] ; then
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8862"> </a>
<pre><code>         isValid="false"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8864"> </a>
<pre><code>         echo ""
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8866"> </a>
<pre><code>               echo "*** Validation failed: File $u \
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8868"> </a>
<pre><code>                    cannot be changed"
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8870"> </a>
<pre><code>               echo ""
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8872"> </a>
<pre><code>               exit 1
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8874"> </a>
<pre><code>           fi
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8876"> </a>
<pre><code>       done
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8878"> </a>
<pre><code>done
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8880"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8882"> </a>
<pre><code>## Exit 0 - putback is allowed
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8884"> </a>
<pre><code>##
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8886"> </a>
<pre><code>exit 0
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8888"> </a>
<pre><code>## End of sample validation program
</code></pre></font></td>
  </tr>
  <tr>
    <td><font face="Courier"><a name="8898"> </a>
<pre>
</pre></font></td>
  </tr>
</table></td></tr>
</table>
</p></font>
</p>


<h2>
  <a name="8017"> </a><font color="#003366" face="Verdana, Arial, Helvetica, sans-serif">Removing Workspace Locks</font>
</h2>


<p>
  <a name="8019"> </a><font face="Verdana, Arial, Helvetica, sans-serif">To assure consistency, the Configuring transactions--Bringover, Undo, and Putback--lock workspaces during these transactions. </font>
</p>


<p>
  <a name="8037"> </a><font face="Verdana, Arial, Helvetica, sans-serif">If you attempt to bring over files into a workspace that is locked, you will get a message that states the name of the user who has the lock, the command they are executing, and the time they obtained the lock.<p>
<table border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
  <caption align="left"><b></b></caption>
  <tr>
    <td><font face="Courier"><a name="8040"> </a>
<pre>bringover: Cannot obtain a write lock in workspace "/tmp_mnt/
home/my_home/projects/mpages"
</pre><a name="8041"> </a>
<pre>because it has the following locks:
</pre><a name="8042"> </a>
<pre>	 Command: bringover (pid 20291), user: jack, machine: holiday, 
time: 12/02/91 16:25:23
</pre><a name="8043"> </a>
<pre>  (Error 2021)
</pre></font></td>
  </tr>
</table>


</p>
</font>
</p>


<p>
  <a name="8035"> </a><font face="Verdana, Arial, Helvetica, sans-serif">Sun WorkShop TeamWare removes these locks after the transaction is over. Normally, you will not encounter a locked workspace. However, if a transaction encounters problems, sometimes locks stay in place and you can no longer access the workspace. If you are sure no one else is accessing the workspace, but a lock remains, you can remove it manually.</font>
</p>


<p><hr noshade size="1">
  <a name="7951"> </a><font face="Verdana, Arial, Helvetica, sans-serif"><b>Note &#150; </b>Be sure no one else is modifying the workspace before removing the lock. Removing a lock from a workspace that is currently being modified by another user compromises the integrity of that workspace.</font>
<hr noshade size="1"></p>


<p>
  <a name="7952"> </a><font face="Verdana, Arial, Helvetica, sans-serif">To remove a workspace lock:</font>
</p>

<p><blockquote>
<a name="7953"> </a><b>	1.	 Make sure no one else is modifying files or performing any transactions in the workspace.</b></blockquote>
</p><p><blockquote>
<a name="7954"> </a><b>	2.	 In the Configuring Window, load the workspace by choosing File <img src="Chevron.gif" tppabs="http://docs.sun.com/source/806-3573/chars/zd/Chevron.gif">  Load Workspaces.</b></blockquote>
</p><p><blockquote>
<a name="7955"> </a><b>	3.	 Click on the workspace to select it.</b></blockquote>
</p><p><blockquote>
<a name="7956"> </a><b>	4.	 Choose Workspace <img src="Chevron.gif" tppabs="http://docs.sun.com/source/806-3573/chars/zd/Chevron.gif">  Edit Locks. </b></blockquote>
</p><p><blockquote>
<a name="7957"> </a><b>	5.	 In the Edit Locks dialog box, click a lock to select it.</b></blockquote>
</p><p><blockquote>
<a name="7958"> </a><b>	6.	 Click Delete.</b></blockquote>
</p><p><blockquote>
<a name="7943"> </a><b>	7.	 To close the Edit Locks dialog box, click OK.</b></blockquote>
</p>

</blockquote>

<hr>

<!-- BEGINNING OF NAVIGATION BAR ------------------------------------------------- -->

<table width="100%" cellpadding="6" cellspacing-"0" border="0">
<tr>
<td valign="top" align="left">
<font size="2">
<a href="javascript:if(confirm('http://www.sun.com/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.sun.com/'" tppabs="http://www.sun.com/">Sun Microsystems, Inc.</a><br>
<a href="javascript:if(confirm('http://docs.sun.com/source/806-3573/PRN.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://docs.sun.com/source/806-3573/PRN.html'" tppabs="http://docs.sun.com/source/806-3573/PRN.html">Copyright information</a>. All rights reserved.<br>
<a href="javascript:if(confirm('http://www.sun.com/cgi-bin/comment-form.pl  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.sun.com/cgi-bin/comment-form.pl'" tppabs="http://www.sun.com/cgi-bin/comment-form.pl">Feedback</a><br>
</font>
</td>

<td valign="top" align="right">
<font face="helvetica,arial" size="2">
<a href="javascript:if(confirm('http://docs.sun.com/index.html  \n\nThis file was not retrieved by Teleport Pro, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?'))window.location='http://docs.sun.com/index.html'" tppabs="http://docs.sun.com/index.html">Library</a>
&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="javascript:if(confirm('http://docs.sun.com/source/806-3573/TeamWareTOC.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://docs.sun.com/source/806-3573/TeamWareTOC.html'" tppabs="http://docs.sun.com/source/806-3573/TeamWareTOC.html">Contents</a>
&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="config_adv.html" tppabs="http://docs.sun.com/source/806-3573/config_adv.html">Previous</a>
&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="version.html" tppabs="http://docs.sun.com/source/806-3573/version.html">Next</a>
&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="TeamWareIX.html" tppabs="http://docs.sun.com/source/806-3573/TeamWareIX.html">Index</a>
</font>
</td>

</tr>
</table>

<!-- END OF NAVIGATION BAR ------------------------------------------------------- -->

</body>
</html>
