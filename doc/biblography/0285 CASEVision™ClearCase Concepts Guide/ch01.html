<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>Chapter 1. Introduction to ClearCase</title><meta name="generator" content="DocBook XSL Stylesheets V1.49"><meta name="generator" content="SGI XSL DocBook Customization Stylesheets V1.0"><link rel="home" href="index.html" title="CASEVision&#8482;/ClearCase
Concepts Guide"><link rel="up" href="index.html" title="CASEVision&#8482;/ClearCase
Concepts Guide"><link rel="previous" href="pr01.html" title="Preface"><link rel="next" href="ch02.html" title="Chapter 2. Version Control - ClearCase VOBs"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 1. Introduction to ClearCase</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pr01.html" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/pr01.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch02.html" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch02.html">Next</a></td></tr></table><hr></div><!--CONTENT_BEGIN--><div class="chapter"><div class="titlepage"><div><h2 class="title"><a name="id5364564"></a>Chapter 1. <a name="id35302"></a>Introduction to ClearCase</h2></div></div>
<p>ClearCase is a comprehensive software <a name="idch1intro1"></a><a name="idch1intro2"></a><a name="idch1intro3"></a><i>configuration management</i> system. It manages multiple variants of evolving software systems, tracks which versions were used in software builds, performs builds of individual programs or entire releases according to user-defined version specifications, and enforces site-specific development policies.<a name="idch1intro4"></a><a name="idch1intro5"></a><a name="idch1intro6"></a><a name="idch1intro7"></a><a name="idch1intro8"></a><a name="idch1intro9"></a><a name="idch1intro10"></a><a name="idch1intro11"></a><a name="idch1intro12"></a><a name="idch1intro13"></a><a name="idch1intro14"></a><a name="idch1intro15"></a><a name="idch1intro16"></a><a name="idch1intro17"></a><a name="idch1intro18"></a><a name="idch1intro19"></a><a name="idch1intro20"></a><a name="idch1intro21"></a><a name="idch1intro22"></a><a name="idch1intro23"></a><a name="idch1intro24"></a><a name="idch1intro25"></a><a name="idch1intro26"></a><a name="idch1intro27"></a><a name="idch1intro28"></a><a name="idch1intro29"></a><a name="idch1intro30"></a><a name="idch1intro31"></a><a name="idch1intro32"></a><a name="idch1intro33"></a><a name="idch1intro34"></a><a name="idch1intro35"></a><a name="idch1intro36"></a></p>
<p>These capabilities enable ClearCase to address the critical requirements of organizations that produce and release software:<a name="idch1intro37"></a><a name="idch1intro38"></a><a name="idch1intro39"></a><a name="idch1intro40"></a><a name="idch1intro41"></a><a name="idch1intro42"></a><a name="idch1intro43"></a><a name="idch1intro44"></a><a name="idch1intro45"></a><a name="idch1intro46"></a><a name="idch1intro47"></a><a name="idch1intro48"></a><a name="idch1intro49"></a><a name="idch1intro50"></a><a name="idch1intro51"></a></p>
<div class="itemizedlist"><ul type="disc"><li><p><a name="idch1intro52"></a><span class="bold"><b>Effective development</b></span> &#8212; ClearCase enables users to work efficiently, allowing them to fine-tune the balance between <i>sharing</i> each other's work and <i>isolating</i> themselves from destabilizing changes. ClearCase automatically manages the sharing of both source files and the files produced by software builds.</p>
</li>
<li><p><span class="bold"><b>Effective management</b></span> &#8212; ClearCase tracks the software build process, so that users can determine <i>what</i> was built, and <i>how</i> it was built. Further, ClearCase can instantly recreate the source base from which a software system was built, allowing it to be rebuilt, debugged, and updated &#8212; all without interfering with other programming work.</p>
</li>
<li><p><span class="bold"><b>Enforcement of development policies</b></span> &#8212; ClearCase enables project administrators to define development policies and procedures, and to automate their enforcement.</p>
<p>


<tt></tt></p>
</li>
</ul></div><div class="section"><div class="titlepage"><div><h2 class="title"><a name="id5362557"></a><a name="id12643"></a>ClearCase Data Structures</h2></div></div>
<p><a name="idch1intro53"></a><a href="ch01.html#id18554" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id18554">Figure 1-1</a> shows a development environment managed by ClearCase. At its heart is a permanent, secure data repository. It contains data that is shared by all users: this includes current and historical versions of source files, along with <i>derived objects</i> built from the sources by compilers, linkers, and so on. In addition, the repository stores detailed &#8220;accounting&#8221; data on the development process itself: who created a particular version (and when, and why), what versions of sources went into a particular build, and other relevant information.</p>
<p><div class="figure"><p><a name="id5362602"></a><b>Figure 1-1. <a name="id18554"></a>ClearCase Development Environment</b></p>
<div class="mediaobject"><img src="Fig1-1.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-1.gif"></div></div><br>
</p>
<p>Only ClearCase commands can modify the permanent data repository. This ensures orderly evolution of the repository and minimizes the likelihood of accidental damage or malicious destruction.</p>
<p>Conceptually, the data repository is a globally accessible, central resource. The implementation, however, is modular: each source (sub)tree can be a separate <a name="idch1intro54"></a><i>versioned object base (VOB)</i>. VOBs can be distributed throughout a local area network, accessed independently or linked into a single logical tree. To system administrators, modularity means flexibility; it facilitates load-balancing in the short term, and enables easy expansion of the data repository over the long term.</p>
<div class="note"><hr noshade="noshade"><table border="0"><tr><td align="center" valign="top" width="25"><img src="note.png" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/note.png"></td><td align="left" valign="top"><b>Note: </b>The repository can even be distributed over a wide-area network, or to sites that have no live data connection at all. This capability is implemented by Atria's MultiSite product, available separately.<a name="idch1intro55"></a>
</td></tr></table><hr noshade="noshade"></div><br><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5362658"></a>Views and Transparent Access</h3></div></div>
<p>As <a name="idch1intro56"></a><a href="ch01.html#id18554" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id18554">Figure 1-1</a> illustrates, users access the ClearCase data repository through <i>views</i>. A view is a software development work environment that is similar to &#8212; but greatly improves on &#8212; a traditional &#8220;development sandbox&#8221;. Each view can easily be configured to access just the right source data from the central repository:</p>
<div class="itemizedlist"><ul type="disc"><li><p>the up-to-date versions for development of the next major release</p>
</li>
<li><p>the versions that went into the port of Release <i>X.Y</i> to hardware architecture <i>Z</i></p>
</li>
<li><p>the versions being used to fix bug #<i>ABC</i> in Release <i>D.E</i></p>
</li>
</ul></div><p>A view is an isolated &#8220;virtual workspace&#8221;, which provides dynamic access to the entire data repository. The changes being made to a source file in a particular view are invisible to other views; software builds performed in a view do not disturb the work taking place in other views.</p>
<p>Working in views, ClearCase users access version-controlled data using standard pathnames and their accustomed commands and programs. The view accesses the appropriate data automatically and transparently.<a name="idch1intro57"></a></p>
<p>A view's isolation does not render it inaccessible; a view can be accessed from any host in the local area network. For example, a <a name="idch1intro58"></a><i>distributed build</i> involves execution of build scripts on several hosts at once, all in the same view. Similarly, a view can be shared by several users, working on a single host or on multiple hosts. One user might &#8220;peek&#8221; into another's view, just to see what changes are being made to a particular file.</p>
</div></div><div class="section"><div class="titlepage"><div><h2 class="title"><a name="id5362798"></a><a name="id77193"></a>Version Control</h2></div></div>
<p>The most basic requirement for a software <a name="idch1intro59"></a><i>configuration management</i> system is <i>version control</i> &#8212; maintaining multiple versions of software development objects. Traditional version-control systems handle text files only; ClearCase manages <i>all</i> software development objects: <i>any</i> kind of file, and directories and links, as well.</p>
<p>Versions of text files are stored efficiently as <a name="idch1intro60"></a><i>deltas</i>, much like SCCS or RCS versions. Versions of non-text files are also stored efficiently, using data compression. Version control of directories enables the tracking of changes to the <i>organization</i> of the source code base, which are just as important as changes to the contents of individual files. Such changes include creation of new files, renaming of files, and even major source tree &#8220;cleanups&#8221;.</p>
<div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5362891"></a>Versioned Object Bases (VOBs)</h3></div></div>
<p>ClearCase development data is organized into any number of <a name="idch1intro61"></a><i>versioned object bases</i> (<i>VOBs</i>). Each VOB provides permanent storage for all the historical versions of all the source objects in a particular directory tree. As seen through a ClearCase <i>view</i>, a VOB seems to <i>be</i> a standard directory tree &#8212; the &#8220;right&#8221; versions of the development objects appear, and all other versions are hidden (<a href="ch01.html#id59188" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id59188">Figure 1-2</a>). How this works is described in section <a href="ch01.html#id34933" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id34933">&#8220;Environment Management&#8221;</a>.</p>
<p><div class="figure"><p><a name="id5362962"></a><b>Figure 1-2. <a name="id59188"></a>VOBs Appear in Views as Ordinary Directory Trees</b></p>
<div class="mediaobject"><img src="Fig1-2.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-2.gif"></div></div><br>
</p>
<p>A version-controlled object in a VOB is called an <a name="idch1intro62"></a><i>element</i>; its versions are organized into a <i>version tree</i> structure, with <i>branches</i> and <i>subbranches</i> (<a href="ch01.html#id13795" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id13795">Figure 1-3</a>. As this figure shows, branches have user-defined names, typically chosen to indicate their role in the development process. All versions have integer ID numbers; important versions can be assigned <i>version labels<a name="idch1intro63"></a></i>, to indicate development milestones &#8212; for example, a product release.</p>
<p><div class="figure"><p><a name="id5363024"></a><b>Figure 1-3. <a name="id13795"></a><a name="idch1intro64"></a>Version Tree of an Individual Element</b></p>
<div class="mediaobject"><img src="Fig1-3.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-3.gif"></div></div><br>
</p>
</div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5363074"></a>Parallel Development</h3></div></div>
<p>Each (sub)branch in an element's version tree represents an independent &#8220;line of development&#8221;. This enables <a name="idch1intro65"></a><i>parallel development</i> &#8212; creating and maintaining multiple variants of a software system concurrently. Creation of a variant might be a major project (porting an application to a new platform), or a minor detour (fixing a bug; creating a &#8220;special release&#8221; for an important customer).</p>
<p>The overall ClearCase parallel development strategy is as follows:</p>
<div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><b>Establish a baselevel</b></span> &#8212; Development work on a new variant begins with a consistent set of source versions, identified (for example) by a common version label.</p>
</li>
<li><p><span class="bold"><b>Use dedicated branches</b></span> &#8212; All changes for a particular variant are made on newly-created branches with a common name.</p>
</li>
<li><p><span class="bold"><b>Isolate changes in views</b></span> &#8212; Development work for a particular variant takes place in one or more views that are configured to &#8220;see&#8221; the versions on the dedicated branches.</p>
</li>
</ul></div><p>For example, changes to several source files might be required to fix bug #819, which was reported in Release 2.6. For each file element, the changes are made on a new branch (named <a name="idch1intro66"></a><i>fix819</i>), created at the &#8220;baseline&#8221; version (labeled <i>RLS2.6</i>). The view in which a user works to fix the bug sees the <i>fix819</i> branch versions, or else &#8220;falls back&#8221; to the baseline <i>RLS2.6</i> version (&#8220;View 1&#8221; in <a href="ch01.html#id19867" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id19867">Figure 1-4</a>). For contrast, this figure also illustrates another view, configured to select different versions of the same file elements.</p>
<p><div class="figure"><p><a name="id5363411"></a><b>Figure 1-4. <a name="id19867"></a>Parallel Development</b></p>
<div class="mediaobject"><img src="Fig1-4.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-4.gif"></div></div><br>
</p>
<p>This strategy enables any number of views &#8212; and thus any number of development projects &#8212; to be active concurrently. All the views access the required source versions from the shared data repository.</p>
<div class="section"><div class="titlepage"><div><h4 class="title"><a name="id5363443"></a>Merging Branches</h4></div></div>
<p>There is an additional important aspect of the ClearCase parallel development strategy. Work performed on subbranches should periodically be reintegrated (<a name="idch1intro67"></a><i>merged</i>) into the <i>main</i> branch, the principal line of development. ClearCase includes tools that automate this process.</p>
</div></div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5363469"></a><a name="id41740"></a>Extended Namespace</h3></div></div>
<p>Most of the time, a user needs just the one version of an element that appears in his view. In some situations, however, he needs convenient access to other versions. Examples include merging the changes made on a subbranch into the <a name="idch1intro68"></a><i>main</i> branch, and searching <i>all</i> the versions of an element for an old phrasing of an error message.</p>
<p>ClearCase makes access to historical versions easy, by extending the standard file/directory namespace. In essence, the entire version tree of every element is embedded under its standard pathname. Most of the time, the version tree remains hidden; but special <a name="idch1intro69"></a><i>version-extended pathnames</i> allow any program to access any (or all) of an element's versions (<a href="ch01.html#id27833" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id27833">Figure 1-5</a>).</p>
<p><div class="figure"><p><a name="id5363543"></a><b>Figure 1-5. <a name="id27833"></a>Version-Extended Pathnames</b></p>
<div class="mediaobject"><img src="Fig1-5.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-5.gif"></div></div><br>
</p>
</div></div><div class="section"><div class="titlepage"><div><h2 class="title"><a name="id5363562"></a><a name="id34933"></a>Environment Management</h2></div></div>
<p>A software <a name="idch1intro70"></a><i>configuration management</i> system must provide a flexible, efficient collection of &#8220;development environments&#8221;, or &#8220;workspaces&#8221;, in which users can do their work. ClearCase <i>views</i> fulfill this role, providing these services:</p>
<div class="itemizedlist"><ul type="disc"><li><p>access to the appropriate versions of development sources</p>
</li>
<li><p>private data storage for use in day-to-day development tasks</p>
</li>
<li><p>isolation from activity taking place in other views</p>
</li>
<li><p>automatic and user-requested facilities for sharing data with other views, when appropriate</p>
</li>
</ul></div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5363653"></a>Views and Transparent Access</h3></div></div>
<p>As described in <a name="idch1intro71"></a><a href="ch01.html#id12643" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id12643">&#8220;ClearCase Data Structures&#8221;</a>, a <i>view</i> directly accesses the version-controlled elements in the permanent, shared data repository. There is no need to copy the versions required for a particular project to a view; instead, the correct versions are accessed dynamically. A particular version of each element is selected according to user-specified rules in the view's <i>config spec</i> (&#8220;configuration specification&#8221;): a file element appears to be an ordinary file; a directory element appears to be an ordinary directory.</p>
<p>The overall effect of automatic version selection is <a name="idch1intro72"></a><i>transparency</i>: the version-control system becomes invisible, so that a VOB appears to be a standard directory tree (<a href="ch01.html#id77022" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id77022">Figure 1-6</a>). This key feature enables ClearCase to work smoothly with standard system software, third-party commercial applications, and a development team's &#8220;home-grown&#8221; software tools. Users do not have to discard their accustomed ways of working, or their existing tools. For example, such standard programs as <tt>grep</tt>, <tt>more</tt>, <tt>ls</tt>, and<tt> cc</tt> will work the same way on ClearCase data as on non-ClearCase data.</p>
<p><div class="figure"><p><a name="id5363774"></a><b>Figure 1-6. <a name="id77022"></a>Version Selection by a View</b></p>
<div class="mediaobject"><img src="Fig1-6.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-6.gif"></div></div><br>
</p>
<p>Views are dynamic &#8212; <a name="idch1intro73"></a><i>config spec</i> rules are continually reevaluated. This means that a view is open-ended; as new data is added to the central repository, it is immediately accessible to all views. It also means that a view's configuration can be instantly modified &#8212; for example, to &#8220;shut out&#8221; a recent destabilizing change to the repository.</p>
</div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5363812"></a>The View as Isolated Workspace</h3></div></div>
<p>In addition to providing automatic version selection, a view provides an isolated workspace in which users perform such tasks as editing source files, compiling and linking object modules, and testing executables. Any number of users can work in the same source directory, building the same programs; they will never interfere with each other, as long as they work in different views. Conversely, two or more users working together closely can share a single view.<a name="idch1intro74"></a></p>
<p>A view's isolation is achieved, in part, by its having a <a name="idch1intro75"></a><i>private storage area</i>. This area is principally used to store:</p>
<div class="itemizedlist"><ul type="disc"><li><p>source files that are being edited by the user(s) working in the view</p>
</li>
<li><p><i>derived objects</i> produced by software builds&#8212;object modules, executables, and so on</p>
</li>
</ul></div><p>This area is also used for incidentals, such as text-editor backup files and cut-and-paste temporary files.</p>
<div class="section"><div class="titlepage"><div><h4 class="title"><a name="id5363873"></a>The `Virtual Workspace'</h4></div></div>
<p>All the files in view-private storage appear to be in the appropriate VOB directory, even though they are (typically) stored on the user's workstation, rather than in the central data repository. That is, the view combines objects in view-private storage with objects in the shared repository to form an isolated &#8220;virtual workspace&#8221;.<a name="idch1intro76"></a></p>
<p><a href="ch01.html#id91758" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id91758">Figure 1-7</a> shows a listing of a VOB directory, as it appears in the &#8220;virtual workspace&#8221; created by a view.</p>
<p><div class="figure"><p><a name="id5363929"></a><b>Figure 1-7. <a name="id91758"></a>View Development Environment</b></p>
<div class="mediaobject"><img src="Fig1-7.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-7.gif"></div></div><br>
</p>
</div><div class="section"><div class="titlepage"><div><h4 class="title"><a name="id5363978"></a>Example: Editing Source Files in a View</h4></div></div>
<p>A user, working in a view, enters a <a name="idch1intro77"></a><a name="idch1intro78"></a><tt>checkout</tt> command to make a source file editable (<a href="ch01.html#id13178" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id13178">Figure 1-8</a>). This seems to change a file element in the data repository from read-only to read-write. In reality, ClearCase copies the read-only repository version to a writable file in the view's private storage area. This writable file, the <i>checked-out version</i>, appears in the view at the same pathname as the file element; the view accesses this editable, checked-out version until the user enters a <tt>checkin</tt> command, which updates the repository and deletes the view-private file.</p>
<p><div class="figure"><p><a name="id5364022"></a><b>Figure 1-8. <a name="id13178"></a>Checkout/Checkin and View-Private Storage</b></p>
<div class="mediaobject"><img src="Fig1-8.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-8.gif"></div></div><br>
</p>
</div></div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5364041"></a>The View as Shared Resource</h3></div></div>
<p>Subject to access permissions, a view is a shared resource, available on all hosts in the local area network. Each view is globally accessible through a simple name, its <a name="idch1intro79"></a><i>view-tag</i>. An individual user uses the same view on several hosts during a distributed software build. During an integration period, several users might share a single view, each using his or her own workstation.</p>
<div class="section"><div class="titlepage"><div><h4 class="title"><a name="id5364083"></a>View-Extended Naming</h4></div></div>
<p>A user sometimes needs to compare (or otherwise manipulate) the data seen through two or more views. Access to multiple views in a single command is made possible through <a name="idch1intro80"></a><i>view-extended naming</i>. <a href="ch01.html#id41740" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id41740">&#8220;Extended Namespace&#8221;</a> describes how ClearCase extends the file system &#8220;downward&#8221; by embedding an element's entire version tree under its pathname. Similarly, ClearCase extends the file system &#8220;upward&#8221; by creating a virtual super-root directory (the <i>viewroot</i>) which conceptually contains all active views. A view-extended pathname accesses the version of a particular element that is seen by a particular view (<a href="ch01.html#id15932" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id15932">Figure 1-9</a>).</p>
<p><div class="figure"><p><a name="id5435527"></a><b>Figure 1-9. <a name="id15932"></a>View-Extended Pathname</b></p>
<div class="mediaobject"><img src="Fig1-9.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-9.gif"></div></div><br>
</p>
</div></div></div><div class="section"><div class="titlepage"><div><h2 class="title"><a name="id5435547"></a>Build Management</h2></div></div>
<p>ClearCase supports <a name="idch1intro81"></a><i>makefile-based</i> building of software systems. This means users can continue to build systems using their accustomed procedures. They can even use the same tools &#8212; for example, a host's system-supplied <i>make</i> program or a third-party build utility. ClearCase's own build program, <i>clearmake</i>, provides compatibility with other <i>make</i> variants, along with powerful enhancements.</p>
<div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5435580"></a>Build Auditing</h3></div></div>
<p><a name="idch1intro82"></a><i>clearmake</i>'s fundamental enhancement is <a name="idch1intro83"></a><i>build auditing</i>: monitoring of file system activity during a software build, at the system-call level. <i>clearmake</i> implements this capability by working with ClearCase's virtual file system extension, the <i>multiversion file system</i> (MVFS).</p>
<p>Build auditing enables complete and automatic documentation of software builds. A build's &#8220;bill-of-materials&#8221; and &#8220;assembly instructions&#8221; are preserved in <a name="idch1intro84"></a><i>configuration records</i> (<a href="ch01.html#id19770" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id19770">Figure 1-10</a>)</p>
<p><div class="figure"><p><a name="id5435724"></a><b>Figure 1-10. <a name="id19770"></a>Build Auditing and Configuration Records</b></p>
<div class="mediaobject"><img src="Fig1-10.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-10.gif"></div></div><br>
</p>
<p>The files produced by a build (object modules, executables, libraries, and so on) are cataloged in the central repository as <i>derived objects</i>.</p>
<p>Users can compare different builds of the same program &#8212; different derived objects built at the same pathname &#8212; through their configuration records. Moreover, <i>clearmake</i> automatically uses configuration records during subsequent builds, to implement additional build enhancements.</p>
</div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5435768"></a>Build Avoidance</h3></div></div>
<p>Standard <a name="idch1intro85"></a><i>make</i> programs support incremental building of software systems through <i>build avoidance</i>. A &#8220;make&#8221; of an entire system actually rebuilds only those components that <i>need</i> to be rebuilt, because they are out-of-date with respect to the corresponding source files.</p>
<p><a name="idch1intro86"></a><i>clearmake</i>'s build-avoidance scheme is more sophisticated, and specifically designed for use in parallel development situations. Typically, each user modifies only a few source files at a time to produce a variant of a software system. If the <i>same</i> version of a particular source file is used by several programmers, it would be compiled to exactly the same object module in each of their views. <i>clearmake</i> uses configuration records to detect such situations; instead of performing redundant builds, it causes a single derived object to be shared among the views (<a href="ch01.html#id28292" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id28292">Figure 1-11</a>). This facility, termed <i>wink-in</i>, saves both disk storage and build time.</p>
<p><div class="figure"><p><a name="id5435836"></a><b>Figure 1-11. <a name="id28292"></a><a name="idch1intro87"></a>Derived Object Sharing</b></p>
<div class="mediaobject"><img src="Fig1-11.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-11.gif"></div></div><br>
</p>
<div class="section"><div class="titlepage"><div><h4 class="title"><a name="id5435856"></a>Automatic Dependency Detection</h4></div></div>
<p>Configuration records enable automatic checking of source dependencies as part of build avoidance. All such dependencies (for example, on C-language header files) are logged in a build's configuration record, whether or not they are explicitly declared in a <a name="idch1intro88"></a><i>makefile</i>.</p>
</div><div class="section"><div class="titlepage"><div><h4 class="title"><a name="id5435926"></a>Build Script Checking</h4></div></div>
<p>Configuration records also enable the build-avoidance algorithm to include checking of a target's build script. If the build script has changed, <i>clearmake</i> rebuilds the target. Many <i>make</i> variants ignore build-script changes, and thus fail to perform a rebuild when it is actually required.</p>
</div></div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5435948"></a>Building on Remote Hosts</h3></div></div>
<p><a name="idch1intro89"></a><i>clearmake</i> supports efficient building of large software systems through its ability to execute multiple build scripts in parallel, and to distribute build script execution to a group of hosts in the local area network. A tunable load-balancing scheme optimizes uses of network resources during a <a name="idch1intro90"></a><i>distributed build</i>.</p>
<p>A build can even take place on a host where ClearCase itself has not been installed. This feature is particularly valuable for organizations that support multiple hardware/software architectures, including some not supported by ClearCase.</p>
</div></div><div class="section"><div class="titlepage"><div><h2 class="title"><a name="id5435985"></a>Process Control</h2></div></div>
<p>ClearCase provides mechanisms for monitoring and controlling the development process itself. ClearCase does not attempt to impose its own particular policies or procedures &#8212; instead, it includes a flexible, powerful toolset, which administrators can use to implement an organization's existing policies.<a name="idch1intro91"></a></p>
<p>Process management comprises several functional areas, which ClearCase addresses both with static mechanisms (control structures) and dynamic mechanisms (procedures). Some of the mechanisms are completely automatic; others are created and/or controlled by users and administrators.</p>
<div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5436012"></a>Information Capture and Retrieval</h3></div></div>
<p>ClearCase automatically logs each change to the data repository in the form of an <a name="idch1intro92"></a><a name="idch1intro93"></a><i>event record</i>, providing an audit trail of development activities. ClearCase includes commands for creating reports based on these records, with many selection and filtering options. Such reports can include the<i> event records</i> for a single version-controlled object, for any user-specified set of objects, or for entire VOBs. <i>Event records</i> can be retained indefinitely, or can be &#8220;scrubbed&#8221; selectively on a periodic basis, in order to conserve disk space.</p>
<p>When a user merges the changes made on one branch of an element into another branch, ClearCase automatically writes an <a name="idch1intro94"></a><i>event record</i>, and also connects the merged versions with a <i>merge arrow</i> (see <a href="ch01.html#id13795" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id13795">Figure 1-3</a>). This makes it easy to track (and often, to fully automate) the process of integrating work performed on subbranches back into the main line of development.</p>
<p>Merge arrows are a special case of a more general mechanism for indicating a relationship between two objects. Any two objects in the central repository can be connected with a logical arrow called a <a name="idch1intro95"></a><i>hyperlink</i>. This capability addresses such process-control needs as <i>requirements tracing</i>.</p>
<div class="section"><div class="titlepage"><div><h4 class="title"><a name="id5436098"></a>Meta-Data Annotations</h4></div></div>
<p>To supplement the information automatically captured by ClearCase, users can explicitly annotate file system objects. Such annotations are termed <a name="idch1intro96"></a><i>meta-data</i>. The hyperlinks and merge arrows discussed just above are one form of meta-data; so are the version labels first discussed on <a href="ch01.html#id77193" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id77193">&#8220;Version Control&#8221;</a>. <i>Attributes</i> provide yet another annotation facility, in the form of name/value pairs. For example, an attribute named <tt>CommentDensity </tt>might be attached to each version of a source file, to indicate how well the code is commented. Each such attribute might have the value <tt>&quot;unacceptable&quot;</tt>, <tt>&quot;low&quot;</tt>, <tt>&quot;medium&quot;</tt>, or <tt>&quot;high&quot;</tt>.</p>
</div></div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5436210"></a>Notification Procedures</h3></div></div>
<p>Virtually any operation that modifies the data repository can <a name="idch1intro97"></a><i>trigger</i> the execution of a user-defined procedure. A typical use for this capability is to notify one or more users that the operation took place. For example, a trigger on the <tt>checkin</tt> operation might send mail to the QA department, explaining that a particular user modified a particular file. Special environment variables make the relevant information available to the script or program that implements the user-defined procedure.</p>
<p>In addition to performing notification tasks, triggers can automate a wide variety of process management functions &#8212; for example:</p>
<div class="itemizedlist"><ul type="disc"><li><p>adding meta-data annotations to the objects that were just modified</p>
</li>
<li><p>logging information that is not included in the <i>event records</i> that ClearCase creates automatically</p>
</li>
<li><p>initiating a build procedure and/or source-code-analysis procedure whenever certain objects are modified</p>
</li>
</ul></div></div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5436279"></a>Policy Enforcement</h3></div></div>
<p>Every organization has its own &#8220;rules of the road&#8221;, which provide guidance (gentle or otherwise) as to where, when, and how development activities are to take place. ClearCase's trigger mechanism, introduced in the preceding section, provides a flexible tool for implementing development policies. In particular, a trigger can impose any user-defined requirement or prerequisite on any operation that modifies the data repository.<a name="idch1intro98"></a></p>
<p>For example, a trigger might fire whenever a user attempts to <a name="idch1intro99"></a><tt>checkin</tt> a new version of a critical file. The trigger procedure can subject the user and/or the file to any kind of test &#8212; and if the test fails, the procedure can cancel the <tt>checkin</tt>.</p>
</div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5436332"></a>Access Control</h3></div></div>
<p>Various objects in the data repository can be <a name="idch1intro100"></a><i>locked</i>, which prevents them from being modified or used. Locks can be fine-grained (for example, locking a particular branch of a particular element) or general (for example, locking an entire VOB). A typical application is locking just the <tt>main</tt> branch of all elements during a software integration period, except to those few users who will be performing the integration work.</p>
<p>Access modes, or permissions, apply to all elements. Permissions control reading, writing, and executing of objects at the traditional levels of granularity: user (owner), group, and other. They also apply to the physical storage in the underlying file system. Protections effectively thwart attempts to circumvent ClearCase and tamper with the raw data storage.<a name="idch1intro101"></a></p>
</div></div><div class="section"><div class="titlepage"><div><h2 class="title"><a name="id5436395"></a>ClearCase Client-Server Architecture</h2></div></div>
<p>ClearCase is a &#8220;groupware&#8221; product, with a distributed client-server architecture. Both the <a name="idch1intro102"></a><i>programs</i> that implement ClearCase functions and the development group's <i>data</i> can be distributed throughout a local area network. This makes ClearCase <i>scalable</i> &#8212; as workstations are added to the network to accommodate additional users, ClearCase's data-storage and data-processing resources increase, as well.</p>
<div class="note"><hr noshade="noshade"><table border="0"><tr><td align="center" valign="top" width="25"><img src="note.png" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/note.png"></td><td align="left" valign="top"><b>Note: </b>Using the MultiSite extension to ClearCase to wide-area networks, as well &#8212; even networks whose only data communications channel is magnetic tape transfer.<a name="idch1intro103"></a>
</td></tr></table><hr noshade="noshade"></div><p><a name="idch1intro104"></a><a href="ch01.html#id77997" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id77997">Figure 1-12</a> shows a typical distribution of ClearCase programs and development data in a network. The data storage is organized as follows:</p>
<div class="itemizedlist"><ul type="disc"><li><p>The permanent, shared data repository is implemented as a collection of versioned object bases (VOBs). Several VOBs can be located on the same host; the practical limit is a function both of disk space and of processing resources.</p>
</li>
<li><p>Users have individual (or shared) work areas, <a name="idch1intro105"></a><i>views</i>, each of which has a private data storage area. A view's storage area is typically located on a user's individual workstation. Central server hosts can also be used &#8212; for example, for a shared view or a view in which an entire application will be rebuilt &#8220;from scratch&#8221;.</p>
</li>
<li><p>For increased flexibility, the data storage for an individual VOB or view can be distributed across two or more hosts.<a name="idch1intro106"></a></p>
</li>
</ul></div><p>Users access this data with ClearCase <a name="idch1intro107"></a><i>client programs</i> (for example, the <i>clearmake</i> build utility), along with standard operating system facilities (text editors, compilers, debuggers) and third-party applications. Access to the data stored in VOBs and views is mediated by ClearCase <i>server programs</i>. Client and server processes communicate with each other using remote procedure call (RPC) facilities. This makes ClearCase network-transparent &#8212; users need not be concerned with the physical location of data storage; ClearCase servers make the data available globally.</p>
<p><div class="figure"><p><a name="id5436568"></a><b>Figure 1-12. <a name="id77997"></a>ClearCase Distributed Client-Server Architecture</b></p>
<div class="mediaobject"><img src="Fig1-12.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-12.gif"></div></div><br>
</p>
</div><div class="section"><div class="titlepage"><div><h2 class="title"><a name="id5436607"></a>ClearCase Interfaces</h2></div></div>
<p>ClearCase has both a command-line interface (CLI) and a graphical user interface (GUI). The CLI is implemented as a set of executables, stored in <a name="idch1intro108"></a><tt>/usr/atria/bin</tt>. (Each user should add this directory to his or her search path.)</p>
<p>The &#8220;first among equals&#8221; of the CLI utilities is <a name="idch1intro109"></a><i>cleartool</i>; through a set of subcommands, it provides the functions performed most often by users: checkout, checkin, list history, display version with annotations, and so on. <i>cleartool</i> uses multicharacter mnemonic options:</p>
<table bgcolor="#E0E0E0" width="90%" border="1" cellpadding="10"><tr><td><pre class="literallayout">
% cleartool checkin -identical -nc util.c hello.h
&#8220;Checkin files <tt>util.c</tt> and <tt>hello.h</tt>, without any comments; do the work even if the new version is identical to its predecessor.&#8221;
% cleartool lshistory -since yesterday.17:00 -recurse /vobs/proj/src
&#8220;List all events that occurred since 5 pm yesterday, pertaining to objects within the directory tree at <tt>/vobs/proj/src</tt>.&#8221;
% cleartool merge -to msg.c -version /main/alpha_port/LATEST
</pre></td></tr></table><p>&#8220;Merge the most recent version on the <a name="idch1intro110"></a><i>alpha_port</i> branch of file <tt>msg.c</tt> into the version I'm editing.&#8221;</p>
<p>The ClearCase GUI includes several point-and-click programs:</p>
<div class="itemizedlist"><ul type="disc"><li><p><a name="idch1intro111"></a><tt>xclearcase</tt> provides a &#8220;master control panel&#8221; that is both easy to use and thoroughly customizable. Users can examine and select both their file system data and ClearCase meta-data, with a variety of <i>browsers</i>.</p>
</li>
<li><p><a name="idch1intro112"></a><tt>xlsvtree</tt> displays the version tree of an element, making it easy both to determine how an element has evolved, and to select particular versions for comparison or merging.</p>
</li>
<li><p><a name="idch1intro113"></a><tt>xcleardiff</tt> is a flexible tool for comparing and/or merging the contents of multiple versions of an element, or any other files.</p>
</li>
</ul></div><p><a href="ch01.html#id44908" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch01.html#id44908">Figure 1-13</a> illustrates some of the features of the ClearCase GUI.</p>
<p><div class="figure"><p><a name="id5436833"></a><b>Figure 1-13. <a name="id44908"></a>ClearCase Graphical User Interface</b></p>
<div class="mediaobject"><img src="Fig1-13.gif" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/figures/Fig1-13.gif"></div></div><br>
</p>
</div><div class="section"><div class="titlepage"><div><h2 class="title"><a name="id5436851"></a>ClearCase Documentation</h2></div></div>
<p>In addition to this manual, the <a name="idch1intro114"></a><i>CASEVision&#8482;/ClearCase Concepts Guide</i>, the ClearCase printed documentation set includes:</p>
<div class="variablelist"><table border="0" cellspacing="3"><tr valign="top"><td><span class="term"><i>CASEVision&#8482;/ClearCase Tutorial</i></span></td><td width="10"> </td><td><p><br>
Important information on setting up a user's environment, along with a step-by-step tour through ClearCase's most important features.</p>

</td></tr><tr valign="top"><td><span class="term"><i>CASEVision&#8482;/ClearCase User's Guide</i></span></td><td width="10"> </td><td><p><br>
Background information and step-by-step procedures for use by individual users.</p>

</td></tr><tr valign="top"><td><span class="term"><i>CASEVision&#8482;/ClearCase Administration Guide</i></span></td><td width="10"> </td><td><p><br>
Background information and step-by-step procedures for use by ClearCase system administrators.</p>

</td></tr><tr valign="top"><td><span class="term"><i>CASEVision&#8482;/ClearCase Reference Pages</i></span></td><td width="10"> </td><td><p><br>
All the ClearCase manual pages, for programs, data structures, and administrative utilities.</p>

</td></tr></table></div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="id5436948"></a>Documentation</h3></div></div>
<p>All  CLI utilities can display usage syntax summaries. The <a name="idch1intro115"></a><tt>cleartool</tt> utility's <tt>help</tt> subcommand can display a usage message for individual subcommands:</p>
<table bgcolor="#E0E0E0" width="90%" border="1" cellpadding="10"><tr><td><pre class="literallayout">
% cleartool help checkout
Usage: checkout | co [-reserved | -unreserved]
[-branch branch-pname]
[[-data] [-out dest-pname] | -ndata]
[-c comment | -cq | -cqe | -nc] pname ...
</pre></td></tr></table><p>The ClearCase manual pages reside within the ClearCase installation area. Users can access these manual pages with the <i>cleartool</i> <tt>man</tt> subcommand, or with the standard UNIX <tt>man</tt>(1) facility.</p>
<p>Each of the ClearCase GUI programs has its own context-sensitive help facility. Installation instructions, release notes, and supplementary technical notes are also provided in the ClearCase software.</p>
</div></div></div><!--CONTENT_END--><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pr01.html" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/pr01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="h" href="index.html" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/index.html">Table of Contents</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02.html" tppabs="http://techpubs.sgi.com/library/dynaweb_docs/0620/SGI_Developer/books/ClrC_CG/sgi_html/ch02.html">Next</a></td></tr><tr><td width="40%" align="left">Preface </td><td width="20%" align="center"> </td><td width="40%" align="right">Chapter 2. Version Control - ClearCase VOBs </td></tr></table></div></body></html>
